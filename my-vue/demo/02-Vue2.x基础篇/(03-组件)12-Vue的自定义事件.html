<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title></title>
  <script src="js/vue.min.js"></script>
</head>

<body>
  <div id="app">
    <!--监听事件-->
    <my-btn @total='allcounter()'></my-btn>
    <my-btn @total='allcounter()'></my-btn>
    <my-btn @total='allcounter()'></my-btn>
    <my-btn @total='allcounter()'></my-btn>
    <p>所有按钮一共点击了{{totalCounter}}</p>
  </div>

  <template id="my_btn">
    <button @click="total()">点击了{{counter}}次</button>
  </template>

  <script>
    Vue.component('my-btn', {
      template: '#my_btn',
      data() {
        return {
          counter: 0
        }
      },
      methods: {
        total() {
          this.counter += 1;
          //通知外界，我调用了total这个方法
          this.$emit('total');
        }
      }
    })
    new Vue({
      el: "#app",
      data: {
        totalCounter: 0
      },
      methods: {
        allcounter() {
          this.totalCounter += 1;
        }
      }
    })

  </script>
</body>

</html>

